"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[202],{9969:function(e,n,t){t.d(n,{v:function(){return P}});var a=t(9439),r=t(2791),s=t(3763),i="TransactionForm_container__1WXA9",c="TransactionForm_timeInput__udLXS",o="TransactionForm_typeContainer__Dt-tU",l="TransactionForm_radioContainer__DYF4m",u="TransactionForm_dateTimeContainer__qiUbC",d="TransactionForm_dateContainer__0RN9B",m="TransactionForm_fieldContainer__jrk6B",h="TransactionForm_error__UDa11",f="TransactionForm_timeContainer__ZxkNw",x="TransactionForm_currency__wL7Ly",v="TransactionForm_sumContainer__PzwRl",p=t(4420),_=t(2113),g=t(9321),j=t(1413),y="CategoryList_container__OdC+O",C="CategoryList_categories__f-Z8o",N="CategoryList_newCategoryContainer__WzlNk",T="CategoryList_save__0fWee",k=t(4666),F="CategoryListItem_actionButtons__afOrE",b=t(3329),w=function(e){var n=e.category,t=e.onItemClick,a=e.setCategory,r=e.setIsEdit,i=(0,p.I0)();return(0,b.jsxs)("li",{children:[n.categoryName,(0,b.jsxs)("div",{className:F,children:[(0,b.jsx)("svg",{onClick:function(){return t(n)},children:(0,b.jsx)("use",{href:"".concat(s.Z,"#check")})}),(0,b.jsx)("svg",{onClick:function(e){e.stopPropagation(),e.preventDefault(),r(!0),a(n)},children:(0,b.jsx)("use",{href:"".concat(s.Z,"#edit")})}),(0,b.jsx)("svg",{onClick:function(e){return function(e){e.stopPropagation(),e.preventDefault(),i((0,k.uu)(n._id))}(e)},children:(0,b.jsx)("use",{href:"".concat(s.Z,"#trash")})})]})]})},S=t(2530),Z=t(3733),D=function(e){var n=e.type,t=e.onItemClick,s=(0,p.I0)(),i=(0,p.v9)(S.CP),c=(0,r.useState)(null),o=(0,a.Z)(c,2),l=o[0],u=o[1],d=(0,r.useState)(!1),m=(0,a.Z)(d,2),h=m[0],f=m[1];return(0,b.jsxs)("div",{className:y,children:[(0,b.jsx)("span",{className:C,children:"All Category"}),(0,b.jsx)("div",{children:(0,b.jsx)("ul",{children:i[n].map((function(e,n){return(0,b.jsx)(w,{setCategory:u,setIsEdit:f,onItemClick:t,category:e},n)}))})}),(0,b.jsxs)("div",{className:N,children:[(0,b.jsx)("span",{children:"New Category"}),(0,b.jsx)("input",{type:"text",value:(null===l||void 0===l?void 0:l.categoryName)||"",onChange:function(e){return u((function(n){return(0,j.Z)((0,j.Z)({},n),{},{categoryName:e.target.value})}))}}),(0,b.jsx)("button",{disabled:!l,onClick:h?function(e){s((0,k.yr)(l)),f(!1),u(null)}:function(e){s((0,k.i8)({type:n,categoryName:l.categoryName})),u(null)},className:(0,Z.Z)("primary-button",h?T:""),type:"button",children:h?"Save":"Add"})]})]})},I="CategoriesModal_container__Cn6Nd",E=function(e){var n=e.title,t=e.type,a=e.isModalOpen,r=e.closeModal,s=e.onItemClick;return(0,b.jsx)(g.Z,{isOpen:a,onClose:r,children:(0,b.jsxs)("div",{className:I,children:[(0,b.jsx)("h2",{children:n}),(0,b.jsx)(D,{onItemClick:s,type:t})]})})},M=t(4746),P=function(e){var n=e.onSave,t=(0,p.v9)(M.PR),g=(0,_.S)(),j=g.validateForm,y=g.errors,C=g.formData,N=g.handleChange,T=g.handleSubmit,k=(0,r.useRef)(null),F=(0,r.useRef)(null),w=(0,r.useState)(null),S=(0,a.Z)(w,2),Z=S[0],D=S[1],I=(0,r.useState)(!1),P=(0,a.Z)(I,2),A=P[0],O=P[1],L=function(){return O(!1)};return(0,r.useEffect)((function(){Z&&j()}),[Z,j]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E,{isModalOpen:A,closeModal:L,type:C.type,onItemClick:function(e){D(e),N("category",e._id),L()},title:C.type}),(0,b.jsxs)("form",{className:i,onSubmit:function(e){T(e),n&&n()},children:[(0,b.jsxs)("div",{className:o,children:[(0,b.jsxs)("div",{className:l,children:[(0,b.jsx)("input",{type:"radio",id:"expense",name:"transaction",value:"expenses",onChange:function(e){D(null),N("type",e.target.value)},defaultChecked:!0}),(0,b.jsx)("label",{htmlFor:"expense",children:"Expense"})]}),(0,b.jsxs)("div",{className:l,children:[(0,b.jsx)("input",{type:"radio",id:"income",name:"transaction",value:"incomes",onChange:function(e){D(null),N("type",e.target.value)},required:!0}),(0,b.jsx)("label",{htmlFor:"income",children:"Income"})]})]}),(0,b.jsxs)("div",{className:u,children:[(0,b.jsxs)("div",{className:d,children:[(0,b.jsx)("label",{htmlFor:"date",children:"Date"}),(0,b.jsxs)("div",{style:{position:"relative"},children:[(0,b.jsx)("input",{className:y.date&&"invalid",name:"date",ref:k,value:C.date||"",type:"date",onClick:function(e){return e.currentTarget.showPicker()},onChange:function(e){return N("date",e.target.value)}}),(0,b.jsx)("svg",{onClick:function(){var e;return null===(e=k.current)||void 0===e?void 0:e.click()},children:(0,b.jsx)("use",{href:"".concat(s.Z,"#calendar-icon")})}),y.date&&(0,b.jsx)("span",{className:h,children:y.date})]})]}),(0,b.jsxs)("div",{className:d,children:[(0,b.jsx)("label",{htmlFor:"time",children:"Time"}),(0,b.jsxs)("div",{className:f,style:{position:"relative"},children:[(0,b.jsx)("input",{className:c,ref:F,value:C.time||"",type:"time",onClick:function(e){return e.currentTarget.showPicker()},onChange:function(e){return N("time",e.target.value)}}),(0,b.jsx)("svg",{onClick:function(){var e;return null===(e=F.current)||void 0===e?void 0:e.click()},children:(0,b.jsx)("use",{href:"".concat(s.Z,"#clock-icon")})})]})]})]}),(0,b.jsxs)("div",{className:m,children:[(0,b.jsx)("label",{htmlFor:"category",children:"Category"}),(0,b.jsx)("input",{name:"category",readOnly:!0,onClick:function(){return O(!0)},type:"text",placeholder:"Enter the category",value:C.category&&(null===Z||void 0===Z?void 0:Z.categoryName)||"",className:y.category&&"invalid"}),y.category&&(0,b.jsx)("span",{className:h,children:y.category})]}),(0,b.jsxs)("div",{className:m,children:[(0,b.jsx)("label",{htmlFor:"sum",children:"Sum"}),(0,b.jsxs)("div",{className:v,children:[(0,b.jsx)("input",{name:"sum",type:"number",placeholder:"Enter the sum",value:C.sum||"",onChange:function(e){return N("sum",e.target.value)},className:y.sum&&"invalid"}),(0,b.jsx)("span",{className:x,children:t.currency}),y.category&&(0,b.jsx)("span",{className:h,children:y.sum})]})]}),(0,b.jsxs)("div",{className:m,children:[(0,b.jsx)("label",{htmlFor:"comment",children:"Comment"}),(0,b.jsx)("textarea",{name:"comment",className:y.comment&&"invalid",style:{height:"97px",resize:"none"},placeholder:"Enter the text",value:C.comment||"",onChange:function(e){return N("comment",e.target.value)}}),y.comment&&(0,b.jsx)("span",{className:h,children:y.comment})]}),(0,b.jsx)("button",{type:"submit",className:"primary-button",children:C._id?"Save":"Add"})]})]})}},9530:function(e,n,t){t.d(n,{v:function(){return h}});t(2791);var a="TransactionsTotalAmount_container__53c8b",r="TransactionsTotalAmount_totalContainer__Zfj10",s="TransactionsTotalAmount_arrow__arOwM",i="TransactionsTotalAmount_dataContainer__kopwM",c="TransactionsTotalAmount_amount__vb38O",o="TransactionsTotalAmount_description__+0297",l=t(3763),u=t(4420),d=t(4746),m=t(3329),h=function(e){var n,t,h=e.expenses,f=e.incomes,x=(0,u.v9)(d.PR),v={UAH:"\u20b4",USD:"$",EUR:"\u20ac"};return(0,m.jsxs)("div",{className:a,children:[(0,m.jsxs)("div",{className:r,children:[(0,m.jsx)("div",{className:s,children:(0,m.jsx)("svg",{width:"15",height:"17",children:(0,m.jsx)("use",{href:"".concat(l.Z,"#arrow-up")})})}),(0,m.jsxs)("div",{className:i,children:[(0,m.jsx)("div",{className:o,children:"Total Income"}),(0,m.jsxs)("div",{className:c,children:[v[null===x||void 0===x||null===(n=x.currency)||void 0===n?void 0:n.toUpperCase()],f.reduce((function(e,n){return e+n.sum}),0).toFixed(2)]})]})]}),(0,m.jsxs)("div",{className:r,children:[(0,m.jsx)("div",{className:s,children:(0,m.jsx)("svg",{width:"15",height:"17",children:(0,m.jsx)("use",{href:"".concat(l.Z,"#arrow-down")})})}),(0,m.jsxs)("div",{className:i,children:[(0,m.jsx)("div",{className:o,children:"Total Expense"}),(0,m.jsxs)("div",{className:c,children:[v[null===x||void 0===x||null===(t=x.currency)||void 0===t?void 0:t.toUpperCase()],h.reduce((function(e,n){return e+n.sum}),0).toFixed(2)]})]})]})]})}},2113:function(e,n,t){t.d(n,{S:function(){return d},k:function(){return m}});var a=t(4942),r=t(1413),s=t(9439),i=t(2791),c=t(6378),o=t(4420),l=t(3329),u=(0,i.createContext)({formData:{type:"incomes"},setFormData:function(){}}),d=function(){return(0,i.useContext)(u)},m=function(e){var n=e.children,t=e.transaction,d=(0,o.I0)(),m=(0,i.useState)(t||{type:"expenses"}),h=(0,s.Z)(m,2),f=h[0],x=h[1],v=(0,i.useState)(!1),p=(0,s.Z)(v,2),_=p[0],g=p[1],j=(0,i.useState)({category:"",password:""}),y=(0,s.Z)(j,2),C=y[0],N=y[1],T=function(){var e=!0,n={category:"",password:""};return f.date||(n.date="Date is required.",e=!1),f.category||(n.category="Category is required.",e=!1),f.sum&&0!==+f.sum||(n.sum="Sum is required.",e=!1),f.comment||(n.comment="Comment is required.",e=!1),N(n),g(e),e};(0,i.useEffect)((function(){var e=new Date,n=e.toISOString().split("T")[0],t=e.toTimeString().split(" ")[0].slice(0,5);x((function(e){return{type:e.type,date:n,time:t}}))}),[]);return(0,l.jsx)(u.Provider,{value:{validateForm:T,errors:C,isValid:_,formData:f,setFormData:x,handleChange:function(e,n){x((0,r.Z)((0,r.Z)({},f),{},(0,a.Z)({},e,n)))},handleSubmit:function(e){e.preventDefault(),T()&&(f._id?d((0,c.Ld)(f)):d((0,c.dT)(f)),x((function(e){return{type:e.type,date:e.date,time:e.time}})))}},children:n})}},8202:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var a=t(2791),r=t(9530),s=t(3623),i=t(5967),c="TransactionsChart_container__UdjV0",o="TransactionsChart_expCatPer__dXBip",l="TransactionsChart_chart__ZFVMX",u="TransactionsChart_percentage__GrtDS",d="TransactionsChart_categories__FJgy8",m="TransactionsChart_data__5o5G5",h=t(4420),f=t(2530),x=t(3329);i.kL.register(i.qi,i.u,i.De);var v=function(e){var n=e.expenses,t=(0,h.v9)(f.CP).expenses,a=function(){if(0===n.length)return{};var e={},t=0;n.forEach((function(n){var a=n.category,r=n.sum;t+=r,e[a.categoryName]?e[a.categoryName]+=r:e[a.categoryName]=r}));var a={};for(var r in e)a[r]=e[r]/t*100;return a}(),r=["#0EF387","#0EBB69","#fafafa","#fafafa80","#ff4000","#ff8000","#ffbf00","#ffff00","#bfff00","#80ff00"],i=function(e){return e>r.length?v():r[e]},v=function(){var e=Math.floor(16777215*Math.random()).toString(16);return"#".concat(e.padStart(6,"0"))},p={labels:t.map((function(e){return e.categoryName})),datasets:[{data:t.map((function(e){return a[e.categoryName]})),backgroundColor:t.map((function(e,n){return i(n)})),borderWidth:0,borderRadius:10,spacing:-60}]};return(0,x.jsxs)("div",{className:c,children:[(0,x.jsx)("h2",{children:"Expenses categories"}),(0,x.jsxs)("div",{className:m,children:[(0,x.jsxs)("div",{className:l,children:[(0,x.jsx)(s.$I,{data:p,options:{responsive:!0,rotation:-82,circumference:170,cutout:"70%",plugins:{legend:{display:!1}}}}),(0,x.jsx)("div",{className:u,children:"100%"})]}),(0,x.jsx)("div",{className:d,children:(0,x.jsx)("ul",{children:t.map((function(e,n){return(0,x.jsxs)("li",{children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,x.jsx)("div",{style:{width:"12px",height:"12px",background:"".concat(i(n)),borderRadius:9999}}),e.categoryName]}),(0,x.jsxs)("span",{className:o,children:[(a[e.categoryName]||0).toFixed(0),"%"]})]},n)}))})})]})]})},p=t(9969),_="MainTransactionsPage_container__yeFHe",g="MainTransactionsPage_headerContainer__386cX",j="MainTransactionsPage_formContainer__O4QTd",y="MainTransactionsPage_chartContainer__hxH-R",C=t(4666),N=t(2113),T=t(6378),k=t(8418),F=function(){var e=(0,h.I0)(),n=(0,h.v9)(k.f1),t=n.expenses,s=n.incomes,i=new Date,c=i.getMonth(),o=i.getFullYear(),l=function(e){var n=new Date(e);return n.getMonth()===c&&n.getFullYear()===o};(0,a.useEffect)((function(){e((0,C.pE)()),e((0,T.q0)()),e((0,T.zO)())}),[]);var u=t.filter((function(e){return l(e.date)})),d=s.filter((function(e){return l(e.date)}));return(0,x.jsxs)("div",{className:_,children:[(0,x.jsxs)("div",{className:g,children:[(0,x.jsx)("h2",{children:"Expense Log"}),(0,x.jsx)("p",{children:"Capture and organize every penny spent with ease! A clear view of your financial habits at your fingertips."}),(0,x.jsx)("div",{style:{marginTop:"40px"},children:(0,x.jsx)(r.v,{expenses:u,incomes:d})})]}),(0,x.jsx)("div",{className:j,children:(0,x.jsx)(N.k,{children:(0,x.jsx)(p.v,{})})}),(0,x.jsx)("div",{className:y,children:(0,x.jsx)(v,{expenses:u})})]})}}}]);
//# sourceMappingURL=202.bd1cb91b.chunk.js.map